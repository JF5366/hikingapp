{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/LEARNER_XZHCZ102/Desktop/hikingapp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/LEARNER_XZHCZ102/Desktop/hikingapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { customAxios, customAxiosWithAuth } from './api';\nexport function userLogin(_x) {\n  return _userLogin.apply(this, arguments);\n}\nfunction _userLogin() {\n  _userLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(user) {\n    var axios, response, _err$response, _err$response$data;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          axios = customAxios();\n          _context.prev = 1;\n          _context.next = 4;\n          return axios.post('/auth/login', user);\n        case 4:\n          response = _context.sent;\n          return _context.abrupt(\"return\", response.data.token);\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](1);\n          console.log(_context.t0);\n          alert((_err$response = _context.t0.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error);\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 8]]);\n  }));\n  return _userLogin.apply(this, arguments);\n}\nexport function userRegister(_x2) {\n  return _userRegister.apply(this, arguments);\n}\nfunction _userRegister() {\n  _userRegister = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(user) {\n    var axios, response, _err$response2, _err$response2$data;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          axios = customAxios();\n          _context2.prev = 1;\n          _context2.next = 4;\n          return axios.post('/auth/register', user);\n        case 4:\n          response = _context2.sent;\n          return _context2.abrupt(\"return\", response.data.token);\n        case 8:\n          _context2.prev = 8;\n          _context2.t0 = _context2[\"catch\"](1);\n          console.log(_context2.t0);\n          alert((_err$response2 = _context2.t0.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error);\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 8]]);\n  }));\n  return _userRegister.apply(this, arguments);\n}\nexport function userInfo() {\n  return _userInfo.apply(this, arguments);\n}\nfunction _userInfo() {\n  _userInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n    var axios, response, _err$response3, _err$response3$data;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          axios = customAxiosWithAuth();\n          _context3.prev = 1;\n          _context3.next = 4;\n          return axios.get('/users');\n        case 4:\n          response = _context3.sent;\n          return _context3.abrupt(\"return\", response.data);\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](1);\n          console.log(_context3.t0);\n          localStorage.removeItem(\"token\");\n          alert((_err$response3 = _context3.t0.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error);\n          return _context3.abrupt(\"return\", {});\n        case 14:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 8]]);\n  }));\n  return _userInfo.apply(this, arguments);\n}","map":{"version":3,"names":["customAxios","customAxiosWithAuth","userLogin","_x","_userLogin","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","axios","response","_err$response","_err$response$data","wrap","_callee$","_context","prev","next","post","sent","abrupt","data","token","t0","console","log","alert","error","stop","userRegister","_x2","_userRegister","_callee2","_err$response2","_err$response2$data","_callee2$","_context2","userInfo","_userInfo","_callee3","_err$response3","_err$response3$data","_callee3$","_context3","get","localStorage","removeItem"],"sources":["C:/Users/LEARNER_XZHCZ102/Desktop/hikingapp/client/src/services/userService.js"],"sourcesContent":["import { customAxios, customAxiosWithAuth } from './api'\r\n\r\nexport async function userLogin(user) {\r\n    const axios = customAxios()\r\n    try {\r\n        const response = await axios.post('/auth/login', user)\r\n        return response.data.token\r\n    } catch(err) {\r\n        console.log(err)\r\n        alert(err.response?.data?.error)\r\n    }\r\n}\r\n\r\nexport async function userRegister(user) {\r\n    const axios = customAxios()\r\n    try {\r\n        const response = await axios.post('/auth/register', user)\r\n        return response.data.token\r\n    } catch(err) {\r\n        console.log(err)\r\n        alert(err.response?.data?.error)\r\n    }\r\n}\r\n\r\nexport async function userInfo() {\r\n    const axios = customAxiosWithAuth()\r\n    try {\r\n        const response = await axios.get('/users')\r\n        return response.data\r\n    } catch(err) {\r\n        console.log(err)\r\n        localStorage.removeItem(\"token\")\r\n        alert(err.response?.data?.error)\r\n        return {}\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}